{"version":3,"sources":["../src/utils/time.ts"],"names":["dayjs","getBinDateRanges","startDate","endDate","rangeLengthInDays","range","Number","isEndDateBeforeRangeEnd","diff","result","totalDuration","start","to","isBefore","from","add","format","push","isAfter"],"mappings":";;;;;AAAA,OAAOA,WAAW;AAEX,IAAMC,mBAAmB,wBAC9BC,WACAC,SACAC,sBACuB;AACvB,QAAMC,QAAQC,OAAOF,iBAAAA;AACrB,QAAMG,0BACJP,MAAMG,OAAAA,EAASK,KAAKN,WAAW,KAAA,KAAUG;AAC3C,QAAMI,SAA6B,CAAA;AAEnC,MAAIF,yBAAyB;AAC3B,WAAO;MAAC;QAACL;QAAWC;;;EACtB;AAEA,MAAIO,gBAAgBV,MAAMG,OAAAA,EAASK,KAAKN,WAAW,KAAA;AACnD,MAAIS,QAAQT;AACZ,MAAIU,KAAKV;AAET,SAAOQ,gBAAgB,KAAKV,MAAMY,EAAAA,EAAIC,SAASV,OAAAA,GAAU;AACvD,UAAMW,OAAOH;AAEbC,SAAKZ,MAAMW,KAAAA,EAAOI,IAAIV,OAAO,KAAA,EAAOW,OAAO,YAAA;AAE3CP,WAAOQ,KAAK;MAACH;MAAMd,MAAMY,EAAAA,EAAIM,QAAQf,OAAAA,IAAWA,UAAUS;KAAG;AAE7DD,YAAQX,MAAMY,EAAAA,EAAIG,IAAI,GAAG,KAAA,EAAOC,OAAO,YAAA;AAEvCN,oBAAgBA,gBAAgBL;EAClC;AAEA,SAAOI;AACT,GA/BgC","sourcesContent":["import dayjs from \"dayjs\";\n\nexport const getBinDateRanges = (\n  startDate: string,\n  endDate: string,\n  rangeLengthInDays: string\n): [string, string][] => {\n  const range = Number(rangeLengthInDays);\n  const isEndDateBeforeRangeEnd =\n    dayjs(endDate).diff(startDate, \"day\") <= range;\n  const result: [string, string][] = [];\n\n  if (isEndDateBeforeRangeEnd) {\n    return [[startDate, endDate]];\n  }\n\n  let totalDuration = dayjs(endDate).diff(startDate, \"day\");\n  let start = startDate;\n  let to = startDate;\n\n  while (totalDuration > 0 && dayjs(to).isBefore(endDate)) {\n    const from = start;\n\n    to = dayjs(start).add(range, \"day\").format(\"YYYY-MM-DD\");\n\n    result.push([from, dayjs(to).isAfter(endDate) ? endDate : to]);\n\n    start = dayjs(to).add(1, \"day\").format(\"YYYY-MM-DD\");\n\n    totalDuration = totalDuration - range;\n  }\n\n  return result;\n};\n"]}